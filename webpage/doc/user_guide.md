# 用户使用指南

## 1. 系统概述

3D鞋模智能匹配系统是一个基于Web的应用程序，用于帮助用户找到最适合特定鞋模的粗胚。系统通过先进的3D几何算法，自动分析鞋模与粗胚的匹配度，提供详细的匹配报告。

## 2. 系统访问

### 2.1 访问地址
- 开发环境: `http://localhost:8000`
- 生产环境: `https://your-domain.com`

### 2.2 系统要求
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+
- **网络**: 稳定的网络连接
- **分辨率**: 1280x720以上推荐

## 3. 主要功能

### 3.1 功能概览
- 🔄 **智能匹配**: 自动匹配鞋模与粗胚
- 📁 **文件管理**: 上传和管理3DM文件
- 🏷️ **分类管理**: 粗胚分类和标签
- 📊 **结果分析**: 详细的匹配报告和可视化
- 📝 **历史记录**: 查看历史匹配记录

### 3.2 支持的文件格式
- **鞋模文件**: .3dm格式（Rhino 3D模型）
- **粗胚文件**: .3dm格式
- **文件大小**: 最大100MB

## 4. 使用流程

### 4.1 整体流程图
```
上传鞋模 → 选择粗胚分类 → 设置匹配参数 → 开始匹配 → 查看结果
```

### 4.2 详细步骤

#### 步骤1: 上传鞋模文件
1. 在主页点击"上传鞋模文件"按钮
2. 在弹出的对话框中选择.3dm文件
3. 输入鞋模名称（可选）
4. 等待文件上传和处理完成
5. 查看3D预览确认模型正确

#### 步骤2: 管理粗胚库
1. 点击"管理粗胚库"按钮
2. 查看现有粗胚文件和分类
3. 如需添加新粗胚：
   - 点击"上传粗胚"
   - 选择文件并设置分类
   - 等待处理完成

#### 步骤3: 设置匹配参数
1. 选择目标粗胚分类（可多选）
2. 设置间隙要求（默认2.0mm）
3. 选择匹配阈值（推荐P15）
4. 其他高级选项：
   - 启用自适应缩放
   - 设置最大缩放比例
   - 启用多起点对齐

#### 步骤4: 开始匹配
1. 点击"开始匹配"按钮
2. 系统显示匹配进度
3. 等待匹配完成（通常需要1-3分钟）

#### 步骤5: 查看结果
1. 匹配完成后查看结果列表
2. 点击任意结果查看详细信息
3. 查看3D热图可视化
4. 导出匹配报告（可选）

## 5. 界面说明

### 5.1 主页布局
```
┌─────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                 │
├─────────────────────┬───────────────────────────────────────┤
│                     │                                       │
│     左侧控制面板      │           右侧结果展示区域              │
│                     │                                       │
│  - 鞋模上传          │  - 匹配状态                            │
│  - 粗胚管理          │  - 结果列表                            │
│  - 参数设置          │  - 详细信息                            │
│  - 开始匹配          │                                       │
│                     │                                       │
└─────────────────────┴───────────────────────────────────────┘
```

### 5.2 控制面板功能

#### 鞋模上传区域
- **上传按钮**: 点击上传新的鞋模文件
- **当前鞋模**: 显示已选择的鞋模信息
- **预览按钮**: 查看鞋模3D预览

#### 粗胚管理区域
- **管理按钮**: 打开粗胚管理界面
- **分类选择**: 选择要匹配的粗胚分类
- **分类统计**: 显示各分类的粗胚数量

#### 参数设置区域
- **间隙要求**: 设置最小间隙距离（mm）
- **匹配阈值**: 选择通过标准（Min/P10/P15/P20）
- **高级选项**: 缩放、对齐等高级参数

### 5.3 结果展示区域

#### 匹配状态
- **进度条**: 显示当前匹配进度
- **状态信息**: 显示当前处理步骤
- **预计时间**: 显示剩余时间

#### 结果列表
- **排序规则**: 按覆盖率和匹配质量排序
- **关键指标**: 覆盖率、体积比、P15间隙
- **通过状态**: 绿色✓表示通过，红色✗表示不通过

## 6. 匹配结果解读

### 6.1 关键指标说明

#### 覆盖率 (Inside Ratio)
- **定义**: 鞋模被粗胚包含的百分比
- **范围**: 0-100%
- **理想值**: ≥99.9%
- **意义**: 越高表示粗胚越能完全包含鞋模

#### 体积比 (Volume Ratio)
- **定义**: 粗胚体积与鞋模体积的比值
- **范围**: >1.0
- **理想值**: 1.5-3.0
- **意义**: 过小无法包含，过大浪费材料

#### P15间隙 (P15 Clearance)
- **定义**: 85%的点具有的最小间隙距离
- **单位**: 毫米(mm)
- **理想值**: ≥2.0mm
- **意义**: 确保加工余量充足

#### Chamfer距离
- **定义**: 两个模型表面的平均距离
- **单位**: 毫米(mm)
- **理想值**: 越小越好
- **意义**: 表示几何相似度

### 6.2 通过标准

#### 严格标准 (Strict)
- 要求: 最小间隙 ≥ 2.0mm
- 特点: 最严格，确保所有点都有足够间隙
- 适用: 精密加工要求

#### P10标准
- 要求: 90%的点间隙 ≥ 2.0mm
- 特点: 允许少量紧密区域
- 适用: 一般生产要求

#### P15标准 (推荐)
- 要求: 85%的点间隙 ≥ 2.0mm
- 特点: 平衡质量和可用性
- 适用: 大多数生产场景

#### P20标准
- 要求: 80%的点间隙 ≥ 2.0mm
- 特点: 最宽松的标准
- 适用: 粗加工或紧急生产

### 6.3 结果排序逻辑
1. **第一级**: 覆盖率（从高到低）
2. **第二级**: 体积比（从小到大）
3. **第三级**: P15间隙值（从大到小）

## 7. 高级功能

### 7.1 3D可视化
- **鞋模预览**: 查看鞋模的3D模型
- **粗胚预览**: 查看粗胚的3D模型
- **热图显示**: 查看间隙分布热图
- **交互操作**: 旋转、缩放、平移视图

### 7.2 批量操作
- **批量上传**: 一次上传多个粗胚文件
- **批量分类**: 为多个粗胚设置分类
- **批量删除**: 删除多个不需要的粗胚

### 7.3 数据导出
- **匹配报告**: 导出详细的JSON格式报告
- **3D模型**: 导出对齐后的PLY格式模型
- **热图文件**: 导出HTML格式的交互式热图

## 8. 常见问题

### 8.1 文件上传问题

**Q: 上传文件时显示"文件格式不支持"**
A: 请确保文件是.3dm格式，且文件完整未损坏。

**Q: 上传很慢或失败**
A: 检查网络连接，确保文件大小不超过100MB。

**Q: 上传后无法预览**
A: 可能是文件内部结构问题，请检查3DM文件是否包含有效的网格数据。

### 8.2 匹配结果问题

**Q: 为什么所有候选都不通过严格标准？**
A: 这很常见，建议使用P15标准，或适当降低间隙要求。

**Q: 匹配时间很长**
A: 匹配时间取决于候选数量和模型复杂度，通常需要1-5分钟。

**Q: 结果中的间隙值为负数**
A: 负数表示该区域鞋模超出了粗胚边界，需要选择更大的粗胚。

### 8.3 系统使用问题

**Q: 页面加载缓慢**
A: 清除浏览器缓存，或尝试使用Chrome浏览器。

**Q: 3D预览无法显示**
A: 确保浏览器支持WebGL，更新浏览器到最新版本。

**Q: 如何删除不需要的文件？**
A: 在粗胚管理界面中选择文件，点击删除按钮。

## 9. 最佳实践

### 9.1 文件管理
1. **命名规范**: 使用有意义的文件名
2. **分类整理**: 合理设置粗胚分类
3. **定期清理**: 删除不再需要的文件
4. **备份重要**: 备份重要的鞋模文件

### 9.2 匹配策略
1. **合理分类**: 选择合适的粗胚分类范围
2. **参数调整**: 根据实际需求调整间隙要求
3. **多次尝试**: 尝试不同的参数组合
4. **结果分析**: 仔细分析匹配结果和热图

### 9.3 效率提升
1. **批量处理**: 一次处理多个相似鞋模
2. **模板保存**: 保存常用的参数设置
3. **历史查看**: 参考历史匹配结果
4. **经验积累**: 记录成功的匹配经验

## 10. 技术支持

### 10.1 联系方式
- **邮箱**: support@your-domain.com
- **电话**: +86-xxx-xxxx-xxxx
- **工作时间**: 周一至周五 9:00-18:00

### 10.2 常见问题
如遇到技术问题，请提供以下信息：
1. 操作系统和浏览器版本
2. 详细的错误信息或截图
3. 操作步骤重现问题
4. 相关的文件信息

### 10.3 更新说明
系统会定期更新功能和修复问题，请关注：
- 系统公告
- 版本更新日志
- 新功能介绍


