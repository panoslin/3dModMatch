# 3Dé‹æ¨¡æ™ºèƒ½åŒ¹é…ç³»ç»Ÿ - Webåº”ç”¨

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºDjangoçš„SSRç½‘é¡µåº”ç”¨ç¨‹åºï¼Œç”¨äºåŒ…è£…å’Œç®¡ç†3Dé‹æ¨¡æ™ºèƒ½åŒ¹é…åŠŸèƒ½ã€‚ç³»ç»Ÿé›†æˆäº†ç°æœ‰çš„hybridåŒ¹é…ç®—æ³•ï¼Œæä¾›å‹å¥½çš„Webç•Œé¢è¿›è¡Œé‹æ¨¡ä¸ç²—èƒšçš„æ™ºèƒ½åŒ¹é…ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”„ **æ™ºèƒ½åŒ¹é…**: è‡ªåŠ¨åŒ¹é…é‹æ¨¡ä¸ç²—èƒšï¼Œæ”¯æŒå¤šç§åŒ¹é…æ ‡å‡†
- ğŸ“ **æ–‡ä»¶ç®¡ç†**: æ”¯æŒ3DMæ ¼å¼æ–‡ä»¶çš„ä¸Šä¼ å’Œç®¡ç†
- ğŸ·ï¸ **åˆ†ç±»ç®¡ç†**: çµæ´»çš„ç²—èƒšåˆ†ç±»ç³»ç»Ÿ
- ğŸ“Š **ç»“æœåˆ†æ**: è¯¦ç»†çš„åŒ¹é…æŠ¥å‘Šå’Œå¯è§†åŒ–
- ğŸ“ **å†å²è®°å½•**: å®Œæ•´çš„åŒ¹é…å†å²è¿½è¸ª
- ğŸ¨ **ç°ä»£ç•Œé¢**: åŸºäºBootstrap 5çš„å“åº”å¼ç•Œé¢

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Django 4.2** - Webæ¡†æ¶
- **Django REST Framework** - APIæ¡†æ¶
- **PostgreSQL** - æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—
- **Celery** - å¼‚æ­¥ä»»åŠ¡å¤„ç†

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Bootstrap 5** - UIæ¡†æ¶
- **jQuery** - JavaScriptåº“
- **Plotly.js** - 3Då¯è§†åŒ–
- **Font Awesome** - å›¾æ ‡åº“

### 3Då¤„ç†
- **Open3D 0.19** - 3Då‡ ä½•å¤„ç†
- **C++17æ ¸å¿ƒæ¨¡å—** - é«˜æ€§èƒ½åŒ¹é…ç®—æ³•
- **enhanced_3dm_renderer** - 3Dé¢„è§ˆç”Ÿæˆ

## é¡¹ç›®ç»“æ„

```
webpage/
â”œâ”€â”€ doc/                          # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md          # ç³»ç»Ÿæ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api_design.md            # APIè®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ deployment.md            # éƒ¨ç½²æ–‡æ¡£
â”‚   â””â”€â”€ user_guide.md            # ç”¨æˆ·æŒ‡å—
â””â”€â”€ shoe_matcher_web/            # Djangoé¡¹ç›®
    â”œâ”€â”€ config/                  # é¡¹ç›®é…ç½®
    â”œâ”€â”€ apps/                    # Djangoåº”ç”¨
    â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒåŠŸèƒ½
    â”‚   â”œâ”€â”€ blanks/             # ç²—èƒšç®¡ç†
    â”‚   â”œâ”€â”€ shoes/              # é‹æ¨¡ç®¡ç†
    â”‚   â”œâ”€â”€ matching/           # åŒ¹é…åŠŸèƒ½
    â”‚   â””â”€â”€ visualization/      # 3Då¯è§†åŒ–
    â”œâ”€â”€ templates/              # æ¨¡æ¿æ–‡ä»¶
    â”œâ”€â”€ static/                 # é™æ€æ–‡ä»¶
    â””â”€â”€ media/                  # åª’ä½“æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### å¼€å‘ç¯å¢ƒ

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
cd webpage
python3.10 -m venv venv
source venv/bin/activate
```

2. **å®‰è£…ä¾èµ–**
```bash
cd shoe_matcher_web
pip install -r requirements.txt
```

3. **é…ç½®æ•°æ®åº“**
```bash
python manage.py makemigrations
python manage.py migrate
```

4. **åˆ›å»ºè¶…çº§ç”¨æˆ·**
```bash
python manage.py createsuperuser
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
DJANGO_SETTINGS_MODULE=config.settings.development python manage.py runserver
```

### ç”Ÿäº§ç¯å¢ƒ

1. **ä½¿ç”¨Docker Compose**
```bash
cd shoe_matcher_web
cp env.example .env
# ç¼–è¾‘.envæ–‡ä»¶é…ç½®ç”Ÿäº§å‚æ•°
docker-compose up -d
```

2. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
```

## ä¸»è¦ç•Œé¢

### åŒ¹é…é¡µé¢ (`/`)
- é‹æ¨¡æ–‡ä»¶ä¸Šä¼ 
- ç²—èƒšåˆ†ç±»é€‰æ‹©
- åŒ¹é…å‚æ•°é…ç½®
- å®æ—¶åŒ¹é…çŠ¶æ€
- ç»“æœå±•ç¤ºå’Œåˆ†æ

### å†å²è®°å½•é¡µé¢ (`/history/`)
- åŒ¹é…å†å²æŸ¥çœ‹
- ç»“æœç­›é€‰å’Œæœç´¢
- è¯¦ç»†æŠ¥å‘Šä¸‹è½½

### Modalç»„ä»¶
- **é‹æ¨¡ä¸Šä¼ Modal**: æ–‡ä»¶ä¸Šä¼ å’Œ3Dé¢„è§ˆ
- **ç²—èƒšç®¡ç†Modal**: åˆ†ç±»ç®¡ç†å’Œæ–‡ä»¶ç®¡ç†
- **åŒ¹é…ç»“æœModal**: è¯¦ç»†ç»“æœå’Œçƒ­å›¾æ˜¾ç¤º
- **3Dé¢„è§ˆModal**: äº¤äº’å¼3Dæ¨¡å‹æŸ¥çœ‹

## APIæ¥å£

### RESTful API
- `GET/POST /api/blanks/` - ç²—èƒšç®¡ç†
- `GET/POST /api/shoes/` - é‹æ¨¡ç®¡ç†
- `POST /api/matching/start/` - å¼€å§‹åŒ¹é…
- `GET /api/matching/{task_id}/status/` - åŒ¹é…çŠ¶æ€
- `GET /api/matching/{task_id}/result/` - åŒ¹é…ç»“æœ

### æ–‡ä»¶æ ¼å¼æ”¯æŒ
- **è¾“å…¥**: 3DMæ ¼å¼ (Rhino 3D)
- **è¾“å‡º**: JSONæŠ¥å‘Š, PLYæ¨¡å‹, HTMLçƒ­å›¾

## åŒ¹é…ç®—æ³•

### æ ¸å¿ƒæŒ‡æ ‡
- **è¦†ç›–ç‡**: é‹æ¨¡è¢«ç²—èƒšåŒ…å«çš„ç™¾åˆ†æ¯”
- **ä½“ç§¯æ¯”**: ç²—èƒšä¸é‹æ¨¡çš„ä½“ç§¯æ¯”å€¼
- **é—´éš™åˆ†å¸ƒ**: P15, P10ç­‰ç™¾åˆ†ä½é—´éš™å€¼
- **Chamferè·ç¦»**: å‡ ä½•ç›¸ä¼¼åº¦åº¦é‡

### é€šè¿‡æ ‡å‡†
- **ä¸¥æ ¼æ ‡å‡†**: æœ€å°é—´éš™ â‰¥ 2.0mm
- **P15æ ‡å‡†**: 85%ç‚¹é—´éš™ â‰¥ 2.0mm (æ¨è)
- **P10æ ‡å‡†**: 90%ç‚¹é—´éš™ â‰¥ 2.0mm
- **P20æ ‡å‡†**: 80%ç‚¹é—´éš™ â‰¥ 2.0mm

## éƒ¨ç½²é…ç½®

### ç¯å¢ƒå˜é‡
```env
DEBUG=False
SECRET_KEY=your-secret-key
DB_NAME=shoe_matcher
DB_USER=postgres
DB_PASSWORD=your-password
REDIS_URL=redis://redis:6379/0
```

### DockeræœåŠ¡
- **web**: Djangoåº”ç”¨æœåŠ¡å™¨
- **db**: PostgreSQLæ•°æ®åº“
- **redis**: Redisç¼“å­˜
- **celery**: å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **matcher**: 3DåŒ¹é…ç®—æ³•å®¹å™¨
- **nginx**: åå‘ä»£ç†æœåŠ¡å™¨

## ç›‘æ§å’Œæ—¥å¿—

### å¥åº·æ£€æŸ¥
- `/api/health/` - ç³»ç»Ÿå¥åº·çŠ¶æ€
- Dockerå®¹å™¨å¥åº·æ£€æŸ¥
- æ•°æ®åº“è¿æ¥ç›‘æ§

### æ—¥å¿—è®°å½•
- Djangoåº”ç”¨æ—¥å¿—
- åŒ¹é…ä»»åŠ¡æ—¥å¿—
- ç³»ç»Ÿé”™è¯¯æ—¥å¿—

## å¼€å‘æŒ‡å—

### ä»£ç ç»“æ„
- **models.py**: æ•°æ®æ¨¡å‹å®šä¹‰
- **views.py**: è§†å›¾é€»è¾‘
- **serializers.py**: APIåºåˆ—åŒ–å™¨
- **tasks.py**: Celeryå¼‚æ­¥ä»»åŠ¡
- **urls.py**: URLè·¯ç”±é…ç½®

### å‰ç«¯å¼€å‘
- **templates/**: Djangoæ¨¡æ¿
- **static/css/**: æ ·å¼æ–‡ä»¶
- **static/js/**: JavaScriptæ–‡ä»¶
- ä½¿ç”¨Bootstrap 5ç»„ä»¶
- é›†æˆPlotly.jsè¿›è¡Œ3Då¯è§†åŒ–

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚è¯¦è§LICENSEæ–‡ä»¶ã€‚

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æäº¤Issueã€‚

---

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¶é—´**: 2025å¹´1æœˆ15æ—¥  
**Pythonç‰ˆæœ¬**: 3.10+  
**Djangoç‰ˆæœ¬**: 4.2+


